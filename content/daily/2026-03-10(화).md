---
date: 2026-03-10
week: 3주차
phase: 관리자+강사·회원 웹 MVP
tags: [lifespeech, planner, dev]
---

# 2026-03-10 (화) — 3주차 D2

> **근무:** 13:00 ~ 19:00 · 실 작업 **5.5시간** (스피치 준비 0.5h 제외)
> **목표:** 예약 관리 + CSV 업로드 + 회원 목록

> ⚠️ **짧은 날** — 핵심 2개(예약·CSV)에 집중. 회원은 목록까지만.

---

## 시간 블록

| 시간 | 작업 | 예상 | 완료 기준 |
|------|------|------|-----------|
| 13:00–14:30 | 예약 목록 테이블 | 1.5h | 필터+페이지네이션 작동 |
| 14:30–16:00 | CSV 업로드 모달 | 1.5h | 업로드 → 목록 갱신 |
| 16:00–16:30 | 예약 상태 변경 | 0.5h | Badge 클릭 → DB 반영 |
| 16:30–17:30 | 회원 목록 + 검색 | 1h | 이름/전화번호 실시간 필터 |
| 17:30–18:30 | 회원 생성 모달 | 1h | 생성 → 목록에 추가 |
| 18:30–19:00 | 🎤 스피치 준비 | | |
| 19:30 | 🎤 스피치 수업 | | |

---

## 상세 체크리스트

### 예약 목록 테이블 (13:00)
- [ ] `GET /reservations` 연동
- [ ] 컬럼: 예약번호 · 이름 · 전화번호 · 상품명 · 상태Badge · 예약일 · 액션
- [ ] 필터 바: 날짜범위(DatePicker) + 상태 Select + 검색 Input
- [ ] 페이지네이션 (10건씩, 페이지 번호)
- [ ] 완료 기준: 필터 적용 → API 쿼리 파라미터 반영 → 목록 갱신

### CSV 업로드 모달 (14:30)
- [ ] 버튼 → 모달 오픈
- [ ] 드래그앤드롭 + 파일 선택 영역
- [ ] `POST /reservations/csv-upload` 연동 (multipart/form-data)
- [ ] 업로드 중 → 진행 표시
- [ ] 결과 모달: 성공 N건 · 스킵 N건 · 실패 N건
- [ ] 완료 기준: CSV 업로드 → 예약 목록에 새 행 표시

### 예약 상태 변경 (16:00)
- [ ] 상태 Badge 클릭 → 드롭다운 (pending/visited/cancelled)
- [ ] `PATCH /reservations/:id/status` 연동
- [ ] 완료 기준: 변경 → 즉시 Badge 색상 반영

### 회원 목록 (16:30)
- [ ] `GET /members` 연동
- [ ] 컬럼: 이름 · 전화번호 · 상태 · 등록일
- [ ] 실시간 검색 (debounce 300ms)
- [ ] 회원 행 클릭 → `/members/:id` 이동

### 회원 생성 모달 (17:30)
- [ ] 필드: 이름* · 전화번호* · 이메일 · 성별 · 생년월일 · 메모
- [ ] `POST /members` 연동
- [ ] 완료 기준: 생성 → 목록 상단에 새 행 추가

---

## 🤖 Claude 개발 요청 순서

### 요청 1 — 예약 목록 테이블 + CSV 업로드 모달
```
예약 관리 페이지를 만들어줘. app/reservations/page.tsx

1. ReservationsTable 컴포넌트
   - GET /reservations 연동 (query: status, from, to, page, limit)
   - 컬럼: 예약번호 · 이름 · 전화번호 · 상품명 · 상태Badge · 예약일 · 액션
   - 상태 Badge 색상: pending(회색) · confirmed(파랑) · cancelled(빨강) · completed(초록)
   - 필터 바: DateRangePicker(from/to) + 상태 Select + 검색 Input (debounce 300ms)
   - 페이지네이션 (10건씩)

2. CsvUploadModal 컴포넌트
   - 버튼 클릭 → 모달 열림
   - 드래그앤드롭 + 파일 선택 (accept=".csv")
   - POST /reservations/csv-upload (multipart/form-data)
   - 업로드 중: 프로그레스 바
   - 완료: "성공 N건 · 스킵 N건" 결과 표시
   - 닫기 → 테이블 refetch

shadcn/ui Dialog, Table, Badge 사용.
```

### 요청 2 — 예약 상태 변경 + 회원 목록
```
예약 상태 변경과 회원 목록 페이지를 만들어줘.

1. 예약 상태 변경 (ReservationsTable에 추가)
   - 상태 Badge 클릭 → 드롭다운 메뉴 (pending/confirmed/cancelled/completed)
   - PATCH /reservations/:id/status 호출
   - 성공: 해당 행 Badge 색상 즉시 변경

2. 회원 목록 (app/members/page.tsx)
   - GET /members 연동 (search, page, limit)
   - 컬럼: 이름 · 전화번호 · 상태 · 등록일
   - 검색창: 이름/전화번호 실시간 필터 (debounce 300ms)
   - 행 클릭 → /members/:id 이동

3. 회원 생성 모달 (CreateMemberModal)
   - 필드: 이름* · 전화번호* · 이메일 · 메모
   - POST /members 호출
   - 성공: 목록 refetch + 모달 닫기
```

---

## ✅ 오늘 내가 직접 확인할 것

**예약 목록 + 필터**
- [ ] `http://localhost:3001/reservations` 접속 → 예약 목록 테이블 표시 확인
- [ ] 상태 필터 Select → "confirmed" 선택 → 해당 상태만 표시 확인
- [ ] 날짜 범위 선택 → API 쿼리에 from/to 파라미터 포함 확인 (F12 Network 탭)

**CSV 업로드 테스트**
- [ ] "CSV 업로드" 버튼 클릭 → 모달 표시 확인
- [ ] 실제 네이버 CSV 파일 드래그 or 선택 → 업로드 → "성공 N건" 결과 확인
- [ ] 모달 닫힌 후 예약 목록에 새 데이터 추가 확인

**예약 상태 변경**
- [ ] 상태 Badge 클릭 → 드롭다운 표시 확인
- [ ] 상태 선택 → 즉시 Badge 색상 변경 확인
- [ ] Supabase Table Editor → reservations 테이블 → 상태 값 실제로 바뀌었는지 확인

**회원 목록**
- [ ] `http://localhost:3001/members` → 회원 목록 표시 확인
- [ ] 검색창에 이름 입력 → 실시간 필터링 확인
- [ ] 회원 생성 모달 → 정보 입력 → 생성 → 목록 상단에 추가 확인

**❌ 막혔을 때**
- CSV 업로드 후 목록 갱신 안 됨 → onSuccess 콜백에서 refetch 호출됐는지 확인
- 상태 변경 후 Badge 안 바뀜 → optimistic update 또는 refetch 추가 (Claude에게 요청)

---

## 작업 로그

| 시간 | 작업 내용 | 비고 |
|------|-----------|------|
| 13:00 | | |
| 13:30 | | |
| 14:00 | | |
| 14:30 | | |
| 15:00 | | |
| 15:30 | | |
| 16:00 | | |
| 16:30 | | |
| 17:00 | | |
| 17:30 | | |
| 18:00 | | |
| 18:30 | 스피치 준비 | |
| 19:30 | 🎤 스피치 수업 | |

---

## 메모 / 이슈

-
