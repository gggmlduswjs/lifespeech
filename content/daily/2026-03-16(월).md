---
date: 2026-03-16
week: 4주차
phase: AI 기능 + 이터레이션
tags: [lifespeech, planner, dev, AI]
---

# 2026-03-16 (월) — 4주차 D1 · AI 개발 시작

> **근무:** 10:00 ~ 19:00 · 실 작업 **8시간**
> **오전:** 소장님 피드백 반영 (이터레이션)
> **오후:** AI 아키텍처 설계 + 백엔드 API 뼈대

---

## 시간 블록

| 시간 | 작업 | 예상 | 완료 기준 |
|------|------|------|-----------|
| 10:00–10:30 | 피드백 목록 수집 + P0/P1/P2 분류 | 0.5h | 우선순위 정리 완료 |
| 10:30–12:00 | P0 긴급 버그 수정 → 재배포 | 1.5h | Vercel 최신 빌드 반영 |
| 12:00–13:00 | 🍽️ 점심 | | |
| 13:00–13:30 | AI API 키 발급 + 환경변수 추가 | 0.5h | Railway `.env` 반영 |
| 13:30–14:30 | AI 아키텍처 설계 + Fastify 라우터 뼈대 | 1h | 3개 엔드포인트 200 응답 |
| 14:30–16:00 | OpenAI/Anthropic SDK 설치 + 연결 테스트 | 1.5h | API 호출 성공 확인 |
| 16:00–17:30 | 회원 상세 미완 3탭 구현 (이터레이션) | 1.5h | 파일·상담·사전진단 탭 완성 |
| 17:30–18:30 | Railway 재배포 + Postman 테스트 | 1h | AI 엔드포인트 정상 응답 |
| 18:30–19:00 | 정리 + 내일 준비 | 0.5h | |

---

## 상세 체크리스트

### 이터레이션 (10:00)
- [ ] 소장님 카카오톡 피드백 전체 수집
- [ ] P0 (즉시): 로그인 불가 · 데이터 안 나옴 등
- [ ] P1 (이번 주): UI 개선 · 기능 미흡
- [ ] P2 (나중): 디자인 · 편의기능
- [ ] P0 전부 수정 → `git push` → Vercel 자동 배포

### AI 환경 세팅 (13:00)
- [ ] OpenAI 계정 → API Key 발급
- [ ] Anthropic 계정 → API Key 발급
- [ ] Railway 환경변수 추가:
  ```
  OPENAI_API_KEY=sk-...
  ANTHROPIC_API_KEY=sk-ant-...
  ```

### Fastify AI 라우터 뼈대 (13:30)
- [ ] `backend/src/routes/ai.ts` 생성
- [ ] `POST /ai/analyze-speech` → `{ message: "준비 중" }` 200
- [ ] `POST /ai/interview` → `{ message: "준비 중" }` 200
- [ ] `POST /ai/homework-feedback` → `{ message: "준비 중" }` 200
- [ ] `npm i openai @anthropic-ai/sdk`

### SDK 연결 테스트 (14:30)
- [ ] OpenAI SDK: `client.chat.completions.create()` 테스트 (텍스트 프롬프트)
- [ ] Anthropic SDK: `anthropic.messages.create()` 테스트
- [ ] 응답 정상 반환 확인 → 콘솔 출력

### 회원 상세 나머지 3탭 (16:00)
- [ ] 파일 탭: `GET /members/:id/files` → 파일명 + 다운로드 링크 목록
- [ ] 상담 탭: `GET /members/:id/counselings` → 날짜·내용 리스트
- [ ] 사전진단 탭: `GET /members/:id/diagnosis` → 10개 boolean → Badge

---

## 🤖 Claude 개발 요청 순서

### 요청 1 — P0 버그 수정 (피드백 반영)
```
소장님 피드백:
[카카오톡 피드백 내용 붙여넣기]

F12 Console 에러:
[에러 메시지]

Network 탭:
[실패한 요청 URL과 응답]

위 버그들을 수정하고 재배포할 수 있게 해줘.
```

### 요청 2 — AI 라우터 뼈대 생성
```
Fastify AI 라우터 뼈대를 만들어줘. backend/src/routes/ai.ts

엔드포인트 3개 (지금은 placeholder):
1. POST /ai/analyze-speech → { message: "준비 중", status: "ok" }
2. POST /ai/interview → { message: "준비 중", status: "ok" }
3. POST /ai/homework-feedback → { message: "준비 중", status: "ok" }

설치 패키지: npm install openai @anthropic-ai/sdk

Railway 환경변수에 추가할 내용도 알려줘:
- OPENAI_API_KEY
- ANTHROPIC_API_KEY
```

### 요청 3 — OpenAI + Anthropic SDK 연결 테스트
```
OpenAI SDK와 Anthropic SDK가 정상 연결되는지 확인하는 테스트 코드를 만들어줘.

1. OpenAI 테스트 (backend/src/utils/test-openai.ts)
   - client.chat.completions.create() 로 "안녕" 메시지 전송
   - 응답 텍스트 콘솔 출력

2. Anthropic 테스트 (backend/src/utils/test-anthropic.ts)
   - anthropic.messages.create() 로 "안녕" 메시지 전송
   - 응답 텍스트 콘솔 출력

터미널에서 ts-node로 실행하는 방법도 알려줘.
```

---

## ✅ 오늘 내가 직접 확인할 것

**이터레이션 완료 확인**
- [ ] `lifespeech-admin.vercel.app` → P0 버그 수정 반영 확인
- [ ] F12 Console → 빨간 에러 없음 확인

**AI 환경변수 확인**
- [ ] `railway.app` → Variables 탭 → OPENAI_API_KEY, ANTHROPIC_API_KEY 설정 확인
- [ ] Postman → `POST {Railway_URL}/ai/analyze-speech` → `{ "message": "준비 중" }` 200 응답 확인

**SDK 연결 테스트**
- [ ] 로컬 터미널에서 OpenAI 테스트 실행 → 한국어 응답 출력 확인
- [ ] Anthropic 테스트 실행 → 응답 출력 확인

**회원 상세 나머지 3탭 (오후 작업)**
- [ ] `/members/{ID}` → 파일 탭 → 파일 목록 표시 확인
- [ ] 상담 탭 → 상담 기록 표시 확인
- [ ] 사전진단 탭 → 10개 boolean Badge 표시 확인

**❌ 막혔을 때**
- OpenAI API 오류 → API Key 유효한지 platform.openai.com → API Keys에서 확인
- Anthropic API 오류 → console.anthropic.com → API Keys에서 확인

---

## 작업 로그

| 시간 | 작업 내용 | 비고 |
|------|-----------|------|
| 10:00 | | |
| 10:30 | | |
| 11:00 | | |
| 11:30 | | |
| 13:00 | | |
| 13:30 | | |
| 14:00 | | |
| 14:30 | | |
| 15:00 | | |
| 15:30 | | |
| 16:00 | | |
| 16:30 | | |
| 17:00 | | |
| 17:30 | | |
| 18:00 | | |
| 18:30 | | |

---

## 메모 / 이슈

-
