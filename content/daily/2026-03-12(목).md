---
date: 2026-03-12
week: 3주차
phase: 관리자+강사·회원 웹 MVP
tags: [lifespeech, planner, dev]
---

# 2026-03-12 (목) — 3주차 D4

> **근무:** 10:00 ~ 19:00 · 실 작업 **8시간**
> **목표:** 강사 화면 5개 + 회원 화면 3개
> (Admin 컴포넌트 재활용으로 속도 ↑)

---

## 시간 블록

| 시간 | 작업 | 예상 | 완료 기준 |
|------|------|------|-----------|
| 10:00–10:30 | 소장님 피드백 반영 | 0.5h | P0 버그 수정 → Vercel 재배포 |
| 10:30–11:30 | 강사 대시보드 + 출석 체크 | 1h | 담당 반 표시 + 출석 DB 반영 |
| 11:30–12:00 | 강사 체크리스트 | 0.5h | 8항목 체크 → 저장 |
| 12:00–13:00 | 🍽️ 점심 | | |
| 13:00–13:30 | 강사 상담 메모 | 0.5h | 텍스트 저장 확인 |
| 13:30–14:00 | 강사 스케줄 | 0.5h | 본인 일정만 표시 |
| 14:00–15:00 | 회원 대시보드 | 1h | 로그인 → 본인 데이터만 표시 |
| 15:00–16:00 | 회원 출석 기록 | 1h | 회차별 타임라인 표시 |
| 16:00–17:00 | 회원 숙제 업로드 | 1h | 파일 → Supabase Storage 저장 |
| 17:00–18:00 | Vercel 재배포 + 강사·회원 로그인 테스트 | 1h | 3역할 로그인 확인 ✅ |
| 18:00–19:00 | 버퍼 | 1h | |

---

## 상세 체크리스트

### 피드백 반영 (10:00)
- [ ] 소장님 카카오톡 피드백 확인
- [ ] P0 긴급 버그 수정
- [ ] `git push` → Vercel 자동 재배포 확인

### 강사 화면 5개

**강사 대시보드 `/instructor/dashboard` (10:30)**
- [ ] `GET /instructor/today-classes` 연동
- [ ] 담당 반 카드: 반 이름 · 수업 시간 · 회원 수
- [ ] 완료 기준: 강사 로그인 → 본인 담당 반만 표시

**강사 출석 체크 `/instructor/attendance` (10:30, 병행)**
- [ ] 반 선택 드롭다운 → `GET /classes/:id/members`
- [ ] 회원 리스트 + 출석/결석/양해 버튼
- [ ] `PATCH /attendances/:id/status` 연동
- [ ] 완료 기준: 체크 → DB 반영 → 관리자 출석부에서도 확인

**강사 체크리스트 `/instructor/checklist` (11:30)**
- [ ] 회원 선택 → 회차 선택 → 8개 항목 체크박스
- [ ] `POST /checklists` 연동
- [ ] 완료 기준: 저장 → DB에 checklist 행 생성

**강사 상담 메모 `/instructor/counseling` (13:00)**
- [ ] 회원 선택 → 날짜 → 텍스트 입력 → 저장
- [ ] `POST /counselings` 연동
- [ ] 완료 기준: 저장 → 관리자 회원 상세 상담탭에 표시

**강사 스케줄 `/instructor/schedule` (13:30)**
- [ ] `GET /instructor/schedule` 연동
- [ ] 이번 주 일정 리스트 (날짜 · 시간 · 반 · 장소)
- [ ] 완료 기준: 본인 스케줄만 표시

### 회원 화면 3개 (오늘)

**회원 대시보드 `/member/dashboard` (14:00)**
- [ ] `GET /member/summary` 연동
- [ ] 현재 반 이름 + 진행 회차/전체 회차 + 다음 수업 일시
- [ ] 완료 기준: 회원 로그인 → 본인 데이터만 표시

**회원 출석 기록 `/member/attendance` (15:00)**
- [ ] `GET /member/attendances` 연동
- [ ] 회차별 타임라인: 날짜 + 상태 Badge (출석/결석/양해)
- [ ] 완료 기준: 본인 출석 기록 정확히 표시

**회원 숙제 업로드 `/member/homework` (16:00)**
- [ ] 파일 선택 인풋 (PDF/음성 파일 허용)
- [ ] `POST /homework/upload` → Supabase Storage
- [ ] 회차별 제출 목록 (파일명 + 제출일)
- [ ] 완료 기준: 파일 업로드 → Storage에 저장 + 목록에 표시

---

## 🤖 Claude 개발 요청 순서

### 요청 1 — 강사 화면 5개
```
강사 화면 5개를 만들어줘. (Admin 컴포넌트 최대한 재활용)

앱 라우터: app/instructor/ 하위

1. dashboard/page.tsx
   - GET /instructor/today-classes 연동
   - 담당 반 카드: 반 이름 · 수업 시간 · 회원 수
   - ⚠️ 강사 토큰으로 로그인 시 본인 담당 반만 표시

2. attendance/page.tsx
   - 반 선택 드롭다운 → GET /classes/:id/members
   - 회원별 출석/결석/양해 버튼 → PATCH /attendances/:id/status
   - Admin의 AttendanceGrid 컴포넌트 재활용 (props로 role 구분)

3. checklist/page.tsx
   - 회원 선택 + 회차 선택 → 8항목 체크박스
   - POST /checklists 연동

4. counseling/page.tsx
   - 회원 선택 + 날짜 + 텍스트 입력
   - POST /counselings 연동

5. schedule/page.tsx
   - GET /instructor/schedule 연동
   - 이번 주 일정 리스트 (날짜 · 시간 · 반 · 장소)

requireRole 체크: 강사가 아니면 /login 리디렉트.
```

### 요청 2 — 회원 화면 3개
```
회원 화면 3개를 만들어줘. app/member/ 하위

1. dashboard/page.tsx
   - GET /member/summary 연동
   - 현재 반 이름 + 진행 회차/전체 회차 프로그레스 바 + 다음 수업 일시

2. attendance/page.tsx
   - GET /member/attendances 연동
   - 회차별 타임라인: 날짜 + 상태 Badge (출석=초록/결석=빨강/양해=노랑)

3. homework/page.tsx
   - 파일 업로드 인풋 (PDF, mp3, mp4, .wav 허용)
   - POST /homework/upload → Supabase Storage 저장
   - 회차별 제출 목록 (파일명 + 제출일 + 강사 피드백 있으면 표시)

requireRole 체크: 회원이 아니면 리디렉트.
```

---

## ✅ 오늘 내가 직접 확인할 것

**강사 화면 (강사 계정으로 로그인)**
- [ ] `lifespeech-admin.vercel.app` → 강사 이메일로 로그인
- [ ] `/instructor/dashboard` → 담당 반 카드 표시 (관리자와 다른 데이터)
- [ ] `/instructor/attendance` → 반 선택 → 회원 목록 + 출석/결석 버튼 확인
- [ ] 출석 체크 → Supabase attendances 테이블 반영 확인

**회원 화면 (회원 계정으로 로그인)**
- [ ] 회원 이메일로 로그인 → `/member/dashboard` → 본인 반 정보 표시 확인
- [ ] `/member/attendance` → 본인 출석 기록만 표시 확인 (다른 회원 데이터 없음)
- [ ] `/member/homework` → 파일 선택 → 업로드 → 목록에 추가 확인
- [ ] Supabase Storage → 파일 실제 존재 확인

**역할 격리 확인**
- [ ] 강사 계정으로 `/` 또는 `/reservations` 직접 입력 → 강사 대시보드로 리디렉트 확인
- [ ] 회원 계정으로 `/instructor` 직접 접속 시도 → 거부 확인

**❌ 막혔을 때**
- 역할 격리 안 됨 → middleware.ts에서 role 체크 로직 확인 (Claude에게 요청)
- 숙제 업로드 실패 → Supabase Storage RLS 정책 → Claude에게 수정 요청

---

## 작업 로그

| 시간 | 작업 내용 | 비고 |
|------|-----------|------|
| 10:00 | | |
| 10:30 | | |
| 11:00 | | |
| 11:30 | | |
| 13:00 | | |
| 13:30 | | |
| 14:00 | | |
| 14:30 | | |
| 15:00 | | |
| 15:30 | | |
| 16:00 | | |
| 16:30 | | |
| 17:00 | | |
| 17:30 | | |
| 18:00 | | |
| 18:30 | | |

---

## 메모 / 이슈

-
