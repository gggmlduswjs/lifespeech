---
date: 2026-03-17
week: 4주차
phase: AI 기능 + 이터레이션
tags: [lifespeech, planner, dev, AI]
---

# 2026-03-17 (화) — 4주차 D2

> **근무:** 13:00 ~ 19:00 · 실 작업 **5.5시간** (스피치 준비 0.5h 제외)
> **오전:** 피드백 반영
> **오후:** AI 음성 녹음 + OpenAI Whisper STT 연동

> ⚠️ **짧은 날** — 백엔드 Whisper 연동 + 프론트 녹음 UI까지. 피드백이 많으면 STT만.

---

## 시간 블록

| 시간 | 작업 | 예상 | 완료 기준 |
|------|------|------|-----------|
| 13:00–13:30 | 피드백 반영 + 재배포 | 0.5h | P0/P1 수정 완료 |
| 13:30–15:00 | 백엔드: Whisper STT API 구현 | 1.5h | Postman 음성파일 → 텍스트 반환 |
| 15:00–16:30 | 프론트: MediaRecorder 녹음 컴포넌트 | 1.5h | 녹음 → Blob 생성 |
| 16:30–17:30 | 프론트-백 연동 + UI | 1h | 녹음 → 텍스트 화면에 표시 |
| 17:30–18:30 | 배포 + 테스트 | 1h | 실제 음성 → STT 성공 ✅ |
| 18:30–19:00 | 🎤 스피치 준비 | | |
| 19:30 | 🎤 스피치 수업 | | |

---

## 상세 체크리스트

### 피드백 반영 (13:00)
- [ ] 카카오톡 피드백 확인
- [ ] P0/P1 빠르게 수정 → 재배포

### 백엔드: Whisper STT (13:30)
- [ ] `POST /ai/analyze-speech` 실제 구현
  ```ts
  // multipart/form-data로 audio 파일 수신
  const formData = new FormData()
  formData.append('file', audioBuffer, { filename: 'audio.webm', contentType: 'audio/webm' })
  formData.append('model', 'whisper-1')
  formData.append('language', 'ko')
  const transcription = await openai.audio.transcriptions.create(formData)
  ```
- [ ] 응답: `{ transcription: string, duration: number }`
- [ ] Fastify multipart 플러그인: `@fastify/multipart`
- [ ] Postman: 실제 음성 파일(.webm) → 한국어 텍스트 반환 확인

### 프론트: MediaRecorder 컴포넌트 (15:00)
- [ ] `components/SpeechRecorder.tsx`
  ```tsx
  // MediaRecorder API
  navigator.mediaDevices.getUserMedia({ audio: true })
  const recorder = new MediaRecorder(stream)
  recorder.ondataavailable = (e) => chunks.push(e.data)
  recorder.onstop = () => {
    const blob = new Blob(chunks, { type: 'audio/webm' })
    onRecordingComplete(blob)
  }
  ```
- [ ] 녹음 시작 버튼 (빨간 원) → 중지 버튼
- [ ] 녹음 시간 표시 (타이머)
- [ ] 브라우저 마이크 권한 요청 처리

### 프론트-백 연동 (16:30)
- [ ] `/member/speech-analysis` 페이지 생성
- [ ] `SpeechRecorder` 컴포넌트 삽입
- [ ] 녹음 완료 → `Blob → FormData → POST /ai/analyze-speech`
- [ ] 로딩 상태: "분석 중..." 스피너
- [ ] 결과: 텍스트 transcript 화면에 표시

---

## 작업 로그

| 시간 | 작업 내용 | 비고 |
|------|-----------|------|
| 13:00 | | |
| 13:30 | | |
| 14:00 | | |
| 14:30 | | |
| 15:00 | | |
| 15:30 | | |
| 16:00 | | |
| 16:30 | | |
| 17:00 | | |
| 17:30 | | |
| 18:00 | | |
| 18:30 | 스피치 준비 | |
| 19:30 | 🎤 스피치 수업 | |

---

## 메모 / 이슈

-
