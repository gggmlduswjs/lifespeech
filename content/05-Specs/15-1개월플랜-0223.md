# LifeSpeech 1개월 개발 플랜
#plan #lifespeech #월간계획

**기간:** 2026-02-23(월) ~ 2026-03-20(금)
**작성일:** 2026-02-22
**목표:** 관리자·강사·회원 3역할 웹 전체 + 백엔드 API 완성 + Vercel/Railway 배포

---

## 월간 목표 요약

| 주차 | 기간 | 핵심 목표 | 최종 산출물 |
|------|------|-----------|------------|
| **1주차** | 02/23 ~ 02/27 | 개발 환경 구축 + DB + 핵심 API | 로그인·회원·예약 API 동작 |
| **2주차** | 03/02 ~ 03/06 | 백엔드 전체 완성 + 배포 | 38개 API + Railway 라이브 |
| **3주차** | 03/09 ~ 03/13 | 관리자 웹 핵심 화면 | CSV→등록→출석 플로우 웹 동작 |
| **4주차** | 03/16 ~ 03/20 | 강사·회원 웹 완성 + 배포 | 3역할 모두 Vercel 라이브 |

---

## 1주차 (02/23 ~ 02/27) — 환경 구축 + DB + 핵심 백엔드

**주간 목표:** 로그인 → 회원 CRUD → 예약 CRUD → CSV 업로드까지 API 동작

---

### 2/23 (월) — 외부 서비스 가입 + GitHub 세팅

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | **Supabase** 프로젝트 생성 (리전: ap-northeast-1, 프로젝트명: lifespeech) | 대시보드 접속 + URL·anon key·service key 확보 |
| □ | **GitHub** 저장소 3개 생성 (`lifespeech-api`, `lifespeech-admin`, `lifespeech-app`) | 각 repo README + .gitignore + 초기 커밋 |
| □ | **알리고** 가입 → API KEY 발급 → 발신번호 등록 신청 | API KEY 메모 완료 (심사 3~5일 소요, 대기) |
| □ | **GCP** 프로젝트 생성 → Calendar API 활성화 → OAuth 동의 화면 설정 | OAuth 클라이언트 ID/Secret 확보 |
| □ | **모두싸인** 가입 → API KEY 발급 | API KEY 메모 완료 |
| □ | **소장님께 구글 계정 접근 승인 요청** | 인증번호 확인 완료 |

> 오후: GitHub Actions 기본 CI 설정 (lint + build)

---

### 2/24 (화) — DB 테이블 + 인덱스 + RLS

> 근무: 13:00 ~ 21:00 · 19:30~21:00 스피치 수업

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | Supabase SQL Editor에서 **9개 테이블 생성** (07-DB-설계 기준) | Table Editor에서 9개 테이블 확인 |
| □ | `reservations` 테이블에 CSV용 **8개 컬럼 추가** (naver_booking_id 등) | 컬럼 존재 확인 |
| □ | **8개 인덱스 생성** (phone, status+date, enrollment_id 등) | EXPLAIN ANALYZE → 인덱스 스캔 |
| □ | **RLS 정책** 설정 (service_role key로만 직접 접근 가능) | anon key로 직접 접근 → 차단 확인 |
| □ | 마이그레이션 SQL 파일 저장 (`supabase/migrations/001~004.sql`) | GitHub에 커밋 |

---

### 2/25 (수) — Fastify 프로젝트 초기화

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | `lifespeech-api` 프로젝트 셋업 (TypeScript + ESLint + Prettier + nodemon) | `npm run dev` → localhost:3000 실행 |
| □ | 디렉토리 구조 생성 (`routes/services/middlewares/utils/types/`) | 폴더 + 빈 index.ts 존재 |
| □ | **Supabase 클라이언트** 초기화 (환경변수 설정) | `supabase.from('users').select('*')` → 빈 배열 |
| □ | `GET /health` 엔드포인트 | `curl localhost:3000/health` → 200 OK |
| □ | **글로벌 에러 핸들러** + AppError 클래스 + 표준 응답 포맷 | 없는 라우트 → `{ error: 'Not Found', statusCode: 404 }` |
| □ | `.env.example` 작성 + GitHub 커밋 | 파일 존재 |

---

### 2/26 (목) — JWT 인증 + 역할 미들웨어

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | `POST /auth/login` (bcrypt 검증 → JWT 발급) | 올바른 계정 → accessToken + refreshToken |
| □ | `POST /auth/logout` (Refresh Token 무효화) | 로그아웃 → 이전 RT로 갱신 불가 |
| □ | `GET /auth/me` (토큰 검증 → 사용자 정보) | 유효 토큰 → 200, 만료 → 401 |
| □ | `POST /auth/refresh` (RT → 새 토큰 쌍) | 유효 RT → 새 토큰, 만료 RT → 401 |
| □ | **`requireRole` 미들웨어** (admin/instructor/member 분기) | member 계정으로 admin 라우트 접근 → 403 |
| □ | 토큰 테스트 시나리오 9개 통과 확인 | 모든 케이스 예상 응답 |

---

### 2/27 (금) — 회원 + 예약 CRUD + 주간 검증

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | `GET/POST /members` (페이지네이션 + 검색 + 필터) | 이름/전화번호 검색 동작 |
| □ | `GET/PATCH /members/:id` (상세 + 수정) | 단건 조회 + 수정 반영 |
| □ | `GET/POST /reservations` (필터: 상태·날짜 범위) | 목록 + 생성 동작 |
| □ | `PATCH /reservations/:id/status` | pending → visited 변경 |
| □ | **1주차 최종 검증 체크리스트** | ↓ |

```
✅ GET /health → 200
✅ POST /auth/login → 토큰 발급
✅ GET /auth/me → 사용자 정보
✅ GET /members → 페이지네이션 목록
✅ POST /members → 회원 생성
✅ GET /reservations → 필터링 목록
✅ PATCH /reservations/:id/status → 상태 변경
```

---

## 2주차 (03/02 ~ 03/06) — 백엔드 전체 완성 + Railway 배포

**주간 목표:** 전체 38개 엔드포인트 완성 + Swagger 문서 + Railway 라이브

---

### 3/2 (월) — CSV 업로드 + 반 관리

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | `POST /reservations/csv-upload` (EUC-KR 감지 → 30컬럼 파싱 → DB upsert) | 실제 네이버 CSV 10건 업로드 → DB 저장 |
| □ | CSV 중복 체크 (naver_booking_id 기준 SKIP) | 동일 파일 2번 업로드 → 중복 없음 |
| □ | 전화번호로 기존 회원 매칭 (없으면 자동 생성) | 파싱 결과: `{ total, created, skipped, errors }` |
| □ | `GET/POST/PATCH /classes` (반 목록·생성·수정) | group/1to1/director 타입 생성 |

---

### 3/3 (화) — 수강 등록 + 출석 시스템

> 근무: 13:00 ~ 21:00 · 19:30~21:00 스피치 수업

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | `POST /enrollments` (등록 → attendances N행 자동 INSERT) | 등록 1건 → attendances 7행 확인 |
| □ | `GET /enrollments` (member_id, class_id 필터) | 수강 목록 조회 |
| □ | `GET /attendance` (반별·회차별·날짜별 필터) | 필터 조합 동작 |
| □ | `PATCH /attendance/:id` (상태 변경 + 비즈니스 규칙) | 예정→출석/양해/조율/결석 변경 |
| □ | `POST /attendance/close-session` (전체 마감) | enrollment status = completed |

---

### 3/4 (수) — 파일 업로드 + SMS

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | `POST /files/upload` (Supabase Storage `members/{id}/session_{n}/`) | 파일 업로드 → Storage 확인 |
| □ | `GET /files` + `GET /files/:id/download` (Signed URL 1시간) | 다운로드 URL 반환 |
| □ | `DELETE /files/:id` (Storage + DB 동시 삭제) | 완전 삭제 확인 |
| □ | `POST /sms/send` (알리고 API, testmode_yn=Y) | 테스트 모드 발송 성공 |
| □ | `GET /sms/templates` | 템플릿 목록 반환 |

---

### 3/5 (목) — 스케줄 + 체크리스트 + 평가 + 상담

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | `GET /schedule` (주간 타임테이블, 강사별 필터) | 특정 주 스케줄 반환 |
| □ | `GET/PATCH /checklists` (회원·회차별 8개 항목) | 체크 저장 → 조회 일치 |
| □ | `GET/POST /evaluations` (10항목 점수) | 평가 저장·조회 |
| □ | `GET/POST /counselings` (상담 기록) | 양도/환불/일반 유형 |

---

### 3/6 (금) — Swagger + Postman + Railway 배포 + 2주차 검증

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | `@fastify/swagger` 설정 → 전체 API 자동 문서화 | `/docs` 접속 → 전체 목록 표시 |
| □ | Postman Collection (38개 엔드포인트) | Collection Runner → 전체 통과 |
| □ | **Railway 배포** (GitHub 연동, 환경변수 설정) | `https://{app}.railway.app/health` → 200 |
| □ | 시드 데이터 (관리자 1명·강사 2명·회원 5명·반 2개) | 각 계정 로그인 + CRUD 정상 |

```
2주차 최종 검증: 38개 엔드포인트 전체 Postman 통과 + Railway 라이브
```

---

## 3주차 (03/09 ~ 03/13) — 관리자 웹 핵심 화면

**주간 목표:** 관리자가 웹에서 CSV→방문체크→수강등록→출석 전체 플로우 수행 가능

---

### 3/9 (월) — Next.js 셋업 + 인증 연동

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | `lifespeech-admin` Next.js App Router + TypeScript 셋업 | `npm run dev` → localhost:3001 |
| □ | `lib/api.ts` (axios 인스턴스 + 토큰 인터셉터 + 401→refresh) | API 호출 → 토큰 자동 첨부 |
| □ | `AuthContext` (login/logout/user 상태, 토큰 메모리 저장) | Context에서 user 접근 가능 |
| □ | `/login` 페이지 (이메일+비밀번호 → 로그인 → /dashboard 리디렉트) | 로그인 성공 → 메인 진입 |
| □ | 공통 레이아웃 (사이드바 7개 메뉴 + 헤더 + 로그아웃) | 사이드바 네비게이션 동작 |
| □ | 라우트 가드 (미인증 → /login 리디렉트) | 토큰 없이 /dashboard → 로그인 이동 |

---

### 3/10 (화) — 예약 관리 화면

> 근무: 13:00 ~ 21:00 · 19:30~21:00 스피치 수업

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | 예약 목록 테이블 (예약번호·이름·전화번호·상태Badge·예약일·액션) | 데이터 표시 + 정렬 |
| □ | 필터 바 (날짜 범위 DatePicker + 상태 Select + 검색 Input) | 필터 적용 → 목록 갱신 |
| □ | 페이지네이션 (페이지 번호 + 건수 표시) | 페이지 이동 동작 |
| □ | **CSV 업로드** (드래그앤드롭 → 업로드 → 결과 모달: 성공N/스킵N/실패N) | CSV 업로드 → 목록에 새 예약 표시 |
| □ | 상태 변경 (Badge 클릭 → 드롭다운 → 변경 확인) | pending→visited → 즉시 반영 |

---

### 3/11 (수) — 회원 관리 화면

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | 회원 목록 (이름·전화번호·상태Badge·등록일 + 실시간 검색) | 이름/전화번호 → 즉시 필터링 |
| □ | 회원 생성 모달 (이름*·전화번호*·이메일·성별·생년월일·메모) | 생성 → 목록에 추가 |
| □ | 회원 상세 페이지 — 탭: 기본정보·사전진단·수강이력·출석현황·파일·상담 | 탭 전환 → 각 섹션 데이터 로드 |
| □ | 기본정보 수정 (인라인 폼 → 저장) | 수정 → DB 반영 |
| □ | 사전진단 표시 (diagnosis_json 10개 boolean → 체크/미체크 Badge) | CSV 파싱 진단 데이터 표시 |

---

### 3/12 (목) — 수강 등록 + 출석부

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | 수강 등록 폼 (회원 검색·선택 → 반 선택 → 회차 수 → 등록) | 등록 → 7행 출석 자동 생성 확인 |
| □ | **출석부 그리드** (반 선택 탭 → 회원×회차 그리드) | 행:회원, 열:회차, 상태 색상 표시 |
| □ | 출석 상태 셀 (클릭 → 드롭다운 6가지 → 즉시 색상 변경) | 상태 변경 → DB 반영 |
| □ | 회차 마감 버튼 (확인 모달 → 재등록/종료 선택) | 마감 → enrollment status 변경 |

```
출석 색상: 예정(gray) 출석(green) 양해(blue) 조율(yellow) 결석(red) 비고(purple)
```

---

### 3/13 (금) — 관리자 부가 화면 + 3주차 전체 플로우 검증

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | SMS 발송 화면 (수신자 선택 → 메시지 or 템플릿 → 발송 → 결과) | 테스트 모드 SMS 발송 성공 |
| □ | 주간 스케줄 화면 (요일×시간 그리드, 반 이름 표시) | 현재 주 스케줄 표시 |
| □ | 대시보드 카드 (오늘 예약 N건·방문 대기·진행 중 수업·신규 등록) | 실시간 데이터 |

```
3주차 최종 플로우 검증:
1. 관리자 로그인
2. CSV 업로드 → 예약 10건 생성
3. 예약 1건 → "방문" 상태 변경
4. 해당 회원 상세 → 사전진단 확인
5. 수강 등록 (그룹반, 7회차)
6. 출석부 → 1회차 "출석" 처리
7. SMS 발송 (테스트 모드)
→ 전체 플로우 에러 없이 완료 ✅
```

---

## 4주차 (03/16 ~ 03/20) — 강사·회원 웹 + Vercel 배포

**주간 목표:** 3개 역할 모두 웹에서 핵심 기능 사용 가능 + Vercel 배포

---

### 3/16 (월) — 강사 화면 3개

> 근무: 10:00 ~ 19:00

| # | 화면 | 핵심 기능 | 완료 기준 |
|---|------|-----------|-----------|
| □ | `/instructor/today` — 오늘의 수업 | 담당 반 카드 + 회원 수·수업 시간 | 강사 로그인 → 담당 반만 표시 |
| □ | `/instructor/attendance` — 출석 체크 | 반 선택 → 회원 리스트 → 터치로 상태 변경 | 출석 체크 → DB 반영 |
| □ | `/instructor/schedule` — 스케줄 | 이번 주 내 일정 리스트 | 강사 본인 스케줄만 표시 |

---

### 3/17 (화) — 강사 화면 2개 + 회원 대시보드

> 근무: 13:00 ~ 21:00 · 19:30~21:00 스피치 수업

| # | 화면 | 핵심 기능 | 완료 기준 |
|---|------|-----------|-----------|
| □ | `/instructor/checklist` — 체크리스트 | 반→회원→회차 선택 → 8항목 체크 → 저장 | 체크 저장 → DB 반영 |
| □ | `/instructor/counseling` — 상담 메모 | 회원 선택 → 텍스트 입력 → 저장 | 상담 기록 생성 |
| □ | `/member/dashboard` — 회원 대시보드 | 현재 반·진행 회차·다음 수업 일시 | 회원 로그인 → 본인 데이터만 |

---

### 3/18 (수) — 회원 화면 4개

> 근무: 10:00 ~ 19:00

| # | 화면 | 핵심 기능 | 완료 기준 |
|---|------|-----------|-----------|
| □ | `/member/attendance` — 출석 기록 | 회차별 타임라인 (날짜 + 상태 Badge) | 본인 출석 기록 표시 |
| □ | `/member/homework` — 숙제 업로드 | 파일 선택 → 업로드 → 회차별 목록 | 파일 업로드 → Storage 저장 |
| □ | `/member/evaluation` — 평가 결과 | 10항목 점수 리스트 | 평가 데이터 표시 |
| □ | `/member/schedule` — 일정 확인 | 다음 수업 일시·장소·강사명 | 스케줄 데이터 표시 |

---

### 3/19 (목) — 반응형 + 에러 처리 + 마무리

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | **모바일 반응형** (사이드바 → 햄버거 메뉴, 테이블 → 카드 뷰) | 모바일 브라우저에서 주요 기능 사용 가능 |
| □ | **에러 상태 통일** (로딩 스피너 + 빈 상태 + 에러 토스트) | 모든 페이지에서 로딩/에러 상태 표시 |
| □ | 회원 상세 — 파일·상담 탭 보완 | 전체 탭 정상 동작 |
| □ | 발견된 버그 P0 수정 | 크리티컬 버그 0건 |

---

### 3/20 (금) — Vercel 배포 + 최종 검증

> 근무: 10:00 ~ 19:00

| # | 작업 | 완료 기준 |
|---|------|-----------|
| □ | **Vercel 배포** (GitHub 연동, NEXT_PUBLIC_API_URL 환경변수) | `https://lifespeech-admin.vercel.app` 접속 가능 |
| □ | 3역할 최종 테스트 (관리자·강사·회원 각 핵심 플로우) | 3개 플로우 모두 에러 없이 완료 |
| □ | 버그 리스트 작성 (P0/P1/P2 분류) | 리스트 완성 + 소장님께 공유 |
| □ | 소장님 브리핑 자료 준비 | 플로우 시연 가능 상태 |

```
4주차 최종 검증:
- 관리자(웹): CSV 업로드 → 수강 등록 → 출석 관리
- 강사(웹): 출석 체크 → 체크리스트
- 회원(웹): 수강 현황 → 숙제 업로드
→ 3역할 전체 Vercel 라이브 ✅
```

---

## 주차별 소장님 보고 포인트

| 주차 | 보고 내용 | 시연 방법 |
|------|-----------|-----------|
| 1주차 말 | API 38개 중 핵심 10개 동작 | Postman 또는 Swagger /docs |
| 2주차 말 | 전체 API + Railway URL 라이브 | Railway URL로 직접 접속 |
| 3주차 말 | 관리자 웹 전체 플로우 | Vercel 임시 URL 시연 |
| 4주차 말 | 3역할 완전 동작 | Vercel 최종 URL 시연 |

---

## 일정 리스크 & 대응

| 리스크 | 대응 |
|--------|------|
| 알리고 발신번호 심사 지연 | testmode_yn=Y로 개발 진행, 심사 완료 후 실 발송 전환 |
| 네이버 API 미승인 | CSV 업로드로 임시 운영 (이미 구현됨) |
| 기능 추가 요청 | P2 목록에 추가, 1개월 플랜 범위 내에서는 현재 기능 우선 |
| 개발 지연 | 매주 목요일까지 주요 기능 완료 → 금요일은 버퍼 + 검증 |

---

*관련 문서: [[13-개발-로드맵-9주]] · [[07-DB-설계]] · [[06-API-명세서]]*
